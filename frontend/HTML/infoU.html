<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/infoCreate.css">
</head>
<body>
    <div id="top">
        <input type="text" id="whiskey_name" name="update_whiskey_name">
        <input type="text" id="whiskey_text" name="update_whiskey_text">
        <input type="file" id="file" name="update_whiskey_image">
        <button id="uploadBtn">전송</button>
    </div>
</body>
<script>
    const param = new URLSearchParams(location.search).get('id');

    const data = await axios.get(`http://localhost:3000/information/update/${param}`);

    console.log(data);

    const uploadBtn = document.querySelector('#uploadBtn');
    const whiskey_name = document.querySelector('#whiskey_name').value;
    const whiskey_text = document.querySelector('#whiskey_text').value;

    
    uploadBtn.addEventListener('click', () => {
        async function updateRecord() {
            try {
                const json = {
                    whiskey_name,
                    whiskey_text
                }
                const response = await axios.put(`http://localhost:3000/information/update/${param}`, json);
                console.log(response.data); // 업데이트된 데이터를 로그로 출력
            } catch (error) {
                console.error("업데이트 중 에러 발생:", error); // 에러 메시지를 로그로 출력
            }
        }
    })

</script>
</html>